<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Login | EduTrack</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="CSS/public.css">
  <style>
    .login-wrapper { min-height: 100vh; display: flex; background: #222831; }
    .login-left, .login-right { flex: 1; display: flex; align-items: center; justify-content: center; padding: 2rem; }
    .login-box { background: rgba(45,52,54,0.95); padding: 2.5rem; border-radius: 20px; max-width: 420px; width: 100%; box-shadow: 0 15px 35px rgba(0,0,0,0.3); }
    .btn-login-page { background: #DCD7C9; color: #222831; border-radius: 25px; padding: 0.75rem; width: 100%; font-weight: 600; }
    .btn-back-fixed { position: fixed; top: 20px; left: 20px; z-index: 1050; background: rgba(45,52,54,0.8); color: #DCD7C9; padding: 0.5rem 1rem; border-radius: 50px; }
    .login-right { background: url('https://images.pexels.com/photos/3646172/pexels-photo-3646172.jpeg') center/cover; position: relative; }
    .login-right::after { content:''; position:absolute; inset:0; background: linear-gradient(135deg, rgba(34,40,49,0.7), rgba(148,137,121,0.3)); }
  </style>
</head>
<body>
  <a href="../index.html" class="btn-back-fixed">‚Üê Back</a>
  <div class="login-wrapper">
    <div class="login-left">
      <div class="login-box">
        <h2 class="text-center text-light mb-4">Login to EduTrack</h2>
        <form id="loginForm">
          <div class="mb-3">
            <label class="form-label text-light">Email</label>
            <input type="email" id="email" class="form-control" required placeholder="you@example.com">
          </div>
          <div class="mb-3">
            <label class="form-label text-light">Password</label>
            <input type="password" id="password" class="form-control" required>
          </div>
          <button type="submit" class="btn btn-login-page">Login</button>
        </form>
        <p class="text-center text-muted mt-3">
          No account? <a href="register.html" class="text-accent">Register here</a>
        </p>
      </div>
    </div>
    <div class="login-right"></div>
  </div>

  <script type="module">
    import { auth } from './JS/firebase.js';
    import { signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.13.2/firebase-auth.js";

    document.getElementById("loginForm").addEventListener("submit", async (e) => {
      e.preventDefault();
      const email = document.getElementById("email").value.trim();
      const password = document.getElementById("password").value;

      try {
        await signInWithEmailAndPassword(auth, email, password);
        window.location.href = "../Admin/dashboard.html";
      } catch (err) {
        alert("Login failed: " + (err.code === "auth/wrong-password" ? "Wrong password" : err.message));
      }
    });
  </script>
</body>
</html>